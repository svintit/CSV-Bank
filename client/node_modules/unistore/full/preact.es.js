import{h as n,Component as t}from"preact";function r(n,t){for(var r in t)n[r]=t[r];return n}function e(n){var t=[];function e(n){for(var r=[],e=0;e<t.length;e++)t[e]===n?n=null:r.push(t[e]);t=r}function o(e,o,i){n=o?e:r(r({},n),e);for(var u=t,c=0;c<u.length;c++)u[c](n,i)}return n=n||{},{action:function(t){function r(n){o(n,!1,t)}return function(){for(var e=arguments,o=[n],i=0;i<arguments.length;i++)o.push(e[i]);var u=t.apply(this,o);if(null!=u)return u.then?u.then(r):r(u)}},setState:o,subscribe:function(n){return t.push(n),function(){e(n)}},unsubscribe:e,getState:function(){return n}}}function o(e,o){var i;return"function"!=typeof e&&("string"==typeof(i=e||{})&&(i=i.split(/\s*,\s*/)),e=function(n){for(var t={},r=0;r<i.length;r++)t[i[r]]=n[i[r]];return t}),function(i){function u(t,u){var c=this,f=u.store,s=e(f?f.getState():{},t),a=o?function(n,t){"function"==typeof n&&(n=n(t));var r={};for(var e in n)r[e]=t.action(n[e]);return r}(o,f):{store:f},h=function(){var n=e(f?f.getState():{},t);for(var r in n)if(n[r]!==s[r])return s=n,c.setState({});for(var o in s)if(!(o in n))return s=n,c.setState({})};this.componentWillReceiveProps=function(n){t=n,h()},this.componentDidMount=function(){f.subscribe(h)},this.componentWillUnmount=function(){f.unsubscribe(h)},this.render=function(t){return n(i,r(r(r({},a),t),s))}}return(u.prototype=new t).constructor=u}}function i(n){this.getChildContext=function(){return{store:n.store}}}i.prototype.render=function(n){return n.children&&n.children[0]||n.children};export{e as createStore,i as Provider,o as connect};
//# sourceMappingURL=preact.es.js.map
